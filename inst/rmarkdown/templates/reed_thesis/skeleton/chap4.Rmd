---
output: pdf_document
header-includes: 
- \usepackage{graphicx,latexsym}
- \usepackage{amssymb,amsthm,amsmath}
- \usepackage{longtable,booktabs,setspace}
---

# Tables and Graphics

## Tables

The following section contains examples of tables.  

In addition to the tables that can be automatically generated from a data frame in **R** that you saw in [](#rmd-basics) using the `kable` function, you can also create tables using _pandoc_. (More information is available at <http://pandoc.org/README.html#tables>.)  This might be useful if you don't have values specifically stored in **R**, but you'd like to display them in table form.  Below is an example.

----------------------------------------------------------------------------------
  Factors                    Correlation between Parents & Child      Inherited
------------------------- ----------------------------------------- --------------
  Education                                -0.49                         Yes
  
  Socio-Economic Status                     0.28                        Slight   
  
  Income                                    0.08                          No
  
  Family Size                               0.18                        Slight
  
  Occupational Prestige                     0.21                        Slight
------------------------- ----------------------------------------- --------------
Table: Correlation of Inheritance Factors for Parents and Child \label{tab:inher_table}

We can also create a link to the table by doing the following:  \autoref{tab:inher_table}.

Note the addition of the `\label{}` option to the end of the table caption.  We can then use the \LaTeX\ `autoref` function to produce the link. `autoref` will automatically add "Table" before your number if you add the "tab:" prefix to your label. Note that this reference could appear anywhere throughout the document, not necessarily right next to the table like we have here.  We will next explore ways to create this label-ref link using figures and equations.

\clearpage

<!-- clearpage ends the page, and also dumps out all floats.
  Floats are things like tables and figures. -->


## Figures

If your thesis has a lot of figures, _R Markdown_ might behave better for you than that other word processor.  One perk is that it will automatically number the figures accordingly in each chapter.  You'll also be able to create a label for each figure, add a caption, and then reference the figure in a way similar to what we saw with tables earlier.  So that you don't have to get too far into \LaTeX\ to do this, a couple **R** functions have been created for you to assist.  You'll see their use below.

<!--

One thing that may be annoying is the way _R Markdown_ handles "floats" like tables and figures (it's really \LaTeX's fault). \LaTeX\ will try to find the best place to put your object based on the text around it and until you're really, truly done writing you should just leave it where it lies. There are some optional arguments to the figure and table environments to specify where you want it to appear; see the comments in the first figure.

If you need a graphic or tabular material to be part of the text, you can just put it inline. If you need it to appear in the list of figures or tables, it should be placed in the floating environment.

Below we have put a few examples of figures. For more help using graphics and the float environment, see our online documentation.
-->


In the **R** chunk below, we will load in a picture stored as `reed.jpg` in our main directory.  We then give it the caption of "Reed logo", the label of "reed", and specify that this is a figure and not an equation.  Note again the use of the `results = "asis"` specification to automatically include and compile the \LaTeX\ code.

```{r reed_logo, results = "asis"}
label(path = "reed.jpg", caption = "Reed logo", 
      label = "reed", type = "figure")
```

Here is a reference to the Reed logo: `r ref("reed")`.  Note the use of the inline **R** code here.  By default "figure" is specified as the type.  For clarity, we could have also added the `label` and `type` to the parameter specifications and this would give us the same result: `r ref(label = "reed", type = "figure")`.

\clearpage 

<!-- starts a new page and stops trying to place floats such as tables and figures -->

Next, we will explore the use of the `scale` parameter which can be used to shrink or expand an image.  Here we use mathematical graph stored in the "subdivision.pdf" file.  Note that we didn't specify the `caption =` or `label =` here.

```{r subdiv1, results = "asis"}
label("subdivision.pdf", "Subdivision graph", scale = 0.75, "subd")
```

Here is a reference to this image: `r ref("subd")`.

## More Figure Stuff

Lastly, we will explore how to rotate figures using the `angle` parameter.

```{r subdiv1_180, results = "asis"}
label("subdivision.pdf", "A Larger Figure, Flipped Upside Down", 
      scale = 1.5,
      angle = 180,
      label = "subd2")
```

As another example, here is a reference to this figure: `r ref("subd2", type = "figure")`.

### Common Modifications

The following figure features the more popular changes thesis students want to their figures. We can add math to the caption that displays below the picture, specify the size of our caption to display below the figure (list of sizes at [here](http://www.emerson.emory.edu/services/latex/latex_169.html#SEC169), and also specify that a different caption `alt.cap` be what appears in the Table of Figures for this figure.

This information is also on the web at <http://web.reed.edu/cis/help/latex/graphics.html>.  If you'd like to make further tweaks to figures, you might need to invoke some \LaTeX\ code.  Please email us at <data@reed.edu> if you need assistance.
      

```{r tinymathcap, results = "asis"}
label("subdivision.pdf", 
      caption = "Subdivision of arc segments",
      alt.cap = "Subdivision of arc segments. You can see that $p_3 = p_6^\\prime$",
      cap.size = "footnotesize",
      label = "subd3")
```

<!-- Note here that you need to have two backslashes before LaTeX commands such as prime -->
